function ParserCollection(e,r,t,n,s,a){var u={html:!0,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!0,quotes:"“”‘’",_habr:{protocol:""},_highlight:!0,_strict:!1};u.highlight=function(e,r){var t=l.utils.escapeHtml;try{if(!u._highlight)throw"highlighting disabled";if(r&&"auto"!==r&&hljs.getLanguage(r))return'<pre class="hljs language-'+t(r.toLowerCase())+'"><code>'+hljs.highlight(r,e,!0).value+"</code></pre>";if("auto"===r){var n=hljs.highlightAuto(e);return'<pre class="hljs language-'+t(n.language)+'"><code>'+n.value+"</code></pre>"}}catch(s){}return'<pre class="hljs"><code>'+t(e)+"</code></pre>"};var i=g_domSetHighlightedContent,a=a,c=document.querySelector('meta[name="mur2textlanguage"]').content;switch(c.slice(0,2)){case"hu":u.quotes="„”\xbb\xab";break;case"ro":u.quotes="„”\xab\xbb";break;case"ca":case"es":case"it":case"gr":u.quotes="\xab\xbb“”";break;case"de":case"cs":u.quotes="„”‚‘";break;case"fr":u.quotes="\xab\xbb‹›";break;case"jp":u.quotes="「」『』"}"zh_Hant"===c&&(u.quotes="「」『』");for(var l=e(u).use(markdownitCriticmarkup).use(markdownItAttrs,{}).use(markdownitS2Tex).use(implicitFigures,{figcaption:!0,tabindex:!0}).use(markdownitFootnote).use(markdownitMultimdTable,{rowspan:!0,multiline:!0}).use(markdownitSub).use(markdownitSup).use(markdownitIns),o=e(u).use(markdownitCriticmarkup).use(markdownItAttrs,{}).use(implicitFigures,{figcaption:!0,tabindex:!0}).use(markdownitS2Tex).use(markdownitMultimdTable,{rowspan:!0,multiline:!0}).use(markdownitSub).use(markdownitSup).use(markdownitFootnote).use(markdownitIns),h=e(u).use(markdownitCriticmarkup).use(markdownItAttrs,{}).use(implicitFigures,{figcaption:!0,tabindex:!0}).use(markdownitS2Tex,{noreplace:!0}).use(markdownitMultimdTable,{rowspan:!0,multiline:!0}).use(markdownitSub).use(markdownitSup).use(markdownitFootnote).use(markdownitIns),p=e(u).use(markdownitCriticmarkup).use(markdownItAttrs,{}).use(markdownitS2Tex,u._habr).use(markdownitMultimdTableLaTeX,{rowspan:!0,multiline:!0}).use(markdownitSub).use(markdownitSup).use(markdownitFootnote).use(markdownitIns),g=e("zero").enable("table").use(markdownitMultimdTableLaTeX,{rowspan:!0,multiline:!0}),d=e("zero").use(markdownitS2Tex),f=[l,o,h,p,d],m=document.querySelector('meta[name="endnotetext"]').content,$=0;$<f.length;$++)f[$].renderer.rules.footnote_block_open=()=>'<h1 class="mt-1">'+m+'</h1>\n<section class="footnotes">\n<ol class="footnotes-list">\n';function b(e,r){if(r>=0&&e[r]&&e[r].children){for(var t=e[r].children.length;t--;)if("tex-block"===e[r].children[t].tag)return!0}return!1}function k(e,r,t,n,s){var a="";return r>0&&"paragraph_close"===e[r-1].type&&!b(e,r-2)&&(a="\n"),a+s.renderToken(e,r,t,n,s)}function x(e,r,t,n,s){var a="";return r>0&&"paragraph_close"===e[r-1].type&&!b(e,r-2)&&(a="\n"),a}function v(e,r,t,n,s){return"\n"}l.renderer.rules.paragraph_open=l.renderer.rules.heading_open=function e(r,t,n,s,a){var u;return r[t].map&&0===r[t].level&&(u=r[t].map[0],r[t].attrPush(["class","line"]),r[t].attrPush(["data-line",u+""])),b(r,t+1)&&(r[t].attrPush(["align","center"]),r[t].attrPush(["style","text-align: center;"])),a.renderToken(r,t,n,s,a)},o.renderer.rules.paragraph_open=o.renderer.rules.heading_open=function e(r,t,n,s,a){return b(r,t+1)&&(r[t].attrPush(["align","center"]),r[t].attrPush(["style","text-align: center;"])),a.renderToken(r,t,n,s,a)},p.renderer.rules.heading_open=k,p.renderer.rules.paragraph_open=x,p.renderer.rules.paragraph_close=v,g.renderer.rules.heading_open=k,g.renderer.rules.paragraph_open=x,g.renderer.rules.paragraph_close=v,d.inline.ruler.before("backticks","backticks2",function(e,r){var t,n,s,a,u,i,c=e.pos;if(96!==e.src.charCodeAt(c))return!1;for(t=c,c++,n=e.posMax;c<n&&96===e.src.charCodeAt(c);)c++;for(s=e.src.slice(t,c),a=u=c;-1!==(a=e.src.indexOf("`",u));){for(u=a+1;u<n&&96===e.src.charCodeAt(u);)u++;if(u-a===s.length)return r||((i=e.push("backticks2_inline","code",0)).markup=s,i.content=e.src.slice(c,a)),e.pos=u,!0}return r||(e.pending+=s),e.pos+=s.length,!0}),d.renderer.rules.backticks2_inline=function(e,r){var t=e[r];return t.markup+t.content+t.markup},d.renderer.rules.text=function(e,r){return e[r].content},g.renderer.rules.text=function(e,r){return e[r].content},l.renderer.rules.math_inline=function(e,r){return a.getHtmlStub(e[r].content)},p.renderer.rules.math_number=function(e,r){return'<img align="right" src="//i.upmath.me/svg/'+e[r].content+'" />'},p.renderer.rules.fence=function(e,r,t,n,s){var a,u=e[r],i=u.info?p.utils.unescapeAll(u.info).trim():"",c="";return i&&(c=i.split(/\s+/g)[0],u.attrPush(["lang",c])),a=t.highlight&&t.highlight(u.content,c)||p.utils.escapeHtml(u.content),"\n<source"+s.renderAttrs(u)+">"+a+"</source>\n"},this.getSource=s;var _=null;this.updateResult=function(e,a){var u,c,g=g_view,f=s();if(a||f!==_){switch(_=f,g){case"html":e.reset(),i(t,l.render(f),"none"),e.fixDom();break;case"htmltex":i(n,'<script src="https://i.upmath.me/latex.js"></script>\n'+h.render(f),"html");break;case"habr":i(n,(u=f,c=(c=p.render(u)).replace("<spoiler ","\n<spoiler ")),"html");break;case"md":i(n,d.renderInline(f),"md");break;case"mdp":i(n,f,"md");break;case"src":i(n,o.render(f),"html")}r(f),collapsible_listener()}},this.getDisplayedResult=function(){var e=g_view,r=s();switch(e){case"habr":return p.render(r);case"htmltex":return'<script src="https://i.upmath.me/latex.js"></script>\n'+h.render(r);case"md":return d.renderInline(r);case"mdp":return r;default:return document.getElementById(t).innerHTML}},this.getHtmlImg=function(){var e=s();return o.render(e)},this.getMdBackend=function(){var e=s();return g.render(e)}}