function ParserCollection(e,r,t,n,a,s){var i={html:!0,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!0,quotes:"“”‘’",_habr:{protocol:""},_highlight:!0,_strict:!1,highlight:function(e,r){var t=u.utils.escapeHtml;try{if(!i._highlight)throw"highlighting disabled";if(r&&"auto"!==r&&hljs.getLanguage(r))return'<pre class="hljs language-'+t(r.toLowerCase())+'"><code>'+hljs.highlight(r,e,!0).value+"</code></pre>";if("auto"===r){var n=hljs.highlightAuto(e);return'<pre class="hljs language-'+t(n.language)+'"><code>'+n.value+"</code></pre>"}}catch(e){}return'<pre class="hljs"><code>'+t(e)+"</code></pre>"}},o=g_domSetHighlightedContent;s=s;switch(document.querySelector('meta[name="mur2language"]').content){case"hu":i.quotes="„”»«";break;case"zh_Hant":i.quotes="「」『』";break;case"es":i.quotes="«»“”"}for(var u=e(i).use(markdownItAttrs,{}).use(implicitFigures,{figcaption:!0,tabindex:!0}).use(markdownitS2Tex).use(markdownitSub).use(markdownitSup).use(markdownitFootnote).use(markdownitIns),c=e(i).use(markdownItAttrs,{}).use(implicitFigures,{figcaption:!0,tabindex:!0}).use(markdownitS2Tex).use(markdownitSub).use(markdownitSup).use(markdownitFootnote).use(markdownitIns),l=e(i).use(markdownItAttrs,{}).use(implicitFigures,{figcaption:!0,tabindex:!0}).use(markdownitS2Tex,{noreplace:!0}).use(markdownitSub).use(markdownitSup).use(markdownitFootnote).use(markdownitIns),h=e(i).use(markdownitS2Tex,i._habr).use(markdownitSub).use(markdownitSup).use(markdownitFootnote).use(markdownitIns),d=e("zero").use(markdownitS2Tex),g=[u,c,l,h,d],p=document.querySelector('meta[name="endnotetext"]').content,m=0;m<g.length;m++)g[m].renderer.rules.footnote_block_open=(()=>'<h3 class="mt-3">'+p+'</h3>\n<section class="footnotes">\n<ol class="footnotes-list">\n');
/**
     * Detects if the paragraph contains the only formula.
     * Parser gives the class 'tex-block' to such formulas.
     *
     * @param tokens
     * @param idx
     * @returns {boolean}
     */function k(e,r){if(r>=0&&e[r]&&e[r].children)for(var t=e[r].children.length;t--;)if("tex-block"===e[r].children[t].tag)return!0;return!1}
/**
     * Inject line numbers for sync scroll. Notes:
     * - We track only headings and paragraphs on first level. That's enough.
     * - Footnotes content causes jumps. Level limit filter it automatically.
     *
     * @param tokens
     * @param idx
     * @param options
     * @param env
     * @param self
     */u.renderer.rules.paragraph_open=u.renderer.rules.heading_open=function(e,r,t,n,a){var s;return e[r].map&&0===e[r].level&&(s=e[r].map[0],e[r].attrPush(["class","line"]),e[r].attrPush(["data-line",s+""])),k(e,r+1)&&(e[r].attrPush(["align","center"]),e[r].attrPush(["style","text-align: center;"])),a.renderToken(e,r,t,n,a)},c.renderer.rules.paragraph_open=c.renderer.rules.heading_open=function(e,r,t,n,a){return k(e,r+1)&&(e[r].attrPush(["align","center"]),e[r].attrPush(["style","text-align: center;"])),a.renderToken(e,r,t,n,a)},h.renderer.rules.heading_open=function(e,r,t,n,a){var s="";return r>0&&"paragraph_close"===e[r-1].type&&!k(e,r-2)&&(s="\n"),s+a.renderToken(e,r,t,n,a)},h.renderer.rules.paragraph_open=function(e,r,t,n,a){var s="";return r>0&&"paragraph_close"===e[r-1].type&&!k(e,r-2)&&(s="\n"),s},h.renderer.rules.paragraph_close=function(e,r,t,n,a){return"\n"},d.inline.ruler.before("backticks","backticks2",function(e,r){var t,n,a,s,i,o,u=e.pos;if(96!==e.src.charCodeAt(u))return!1;for(t=u,u++,n=e.posMax;u<n&&96===e.src.charCodeAt(u);)u++;for(a=e.src.slice(t,u),s=i=u;-1!==(s=e.src.indexOf("`",i));){for(i=s+1;i<n&&96===e.src.charCodeAt(i);)i++;if(i-s===a.length)return r||((o=e.push("backticks2_inline","code",0)).markup=a,o.content=e.src.slice(u,s)),e.pos=i,!0}return r||(e.pending+=a),e.pos+=a.length,!0}),d.renderer.rules.backticks2_inline=function(e,r){var t=e[r];return t.markup+t.content+t.markup},d.renderer.rules.text=function(e,r){return e[r].content},u.renderer.rules.math_inline=function(e,r){return s.getHtmlStub(e[r].content)},
/**
     * Habrahabr hack for numerating formulas
     */
h.renderer.rules.math_number=function(e,r){return'<img align="right" src="//mur2.co.uk:8005/svg/'+e[r].content+'" />'},
/**
     * Habrahabr "source" tag
     *
     * @param tokens
     * @param idx
     * @param options
     * @param env
     * @param self
     * @returns {string}
     */
h.renderer.rules.fence=function(e,r,t,n,a){var s,i=e[r],o=i.info?h.utils.unescapeAll(i.info).trim():"",u="";return o&&(u=o.split(/\s+/g)[0],i.attrPush(["lang",u])),s=t.highlight&&t.highlight(i.content,u)||h.utils.escapeHtml(i.content),"\n<source"+a.renderAttrs(i)+">"+s+"</source>\n"},this.getSource=a;var f=null;this.updateResult=function(e,s){var i=g_view,g=a();if(s||g!==f){switch(f=g,i){case"html":e.reset(),o(t,u.render(g),"none"),e.fixDom();break;case"htmltex":o(n,'<script src="https://mur2.co.uk:8005/latex.js"><\/script>\n'+l.render(g),"html");break;case"habr":o(n,function(e){var r=h.render(e);return r=r.replace("<spoiler ","\n<spoiler ")}(g),"html");break;case"md":o(n,d.renderInline(g),"md");break;case"mdp":o(n,g,"md");break;case"src":o(n,c.render(g),"html")}r(g),collapsible_listener()}},this.getDisplayedResult=function(){var e=g_view,r=a();switch(e){case"habr":return h.render(r);case"htmltex":return'<script src="https://mur2.co.uk:8005/latex.js"><\/script>\n'+l.render(r);case"md":return d.renderInline(r);case"mdp":return r;default:return c.render(r)}},this.getHtmlImg=function(){var e=a();return c.render(e)}}