function ParserCollection(e,r,t,n,a,i){var s={html:!0,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!0,quotes:"“”‘’",_habr:{protocol:""},_highlight:!0,_strict:!1,highlight:function(e,r){var t=o.utils.escapeHtml;try{if(!s._highlight)throw"highlighting disabled";if(r&&"auto"!==r&&hljs.getLanguage(r))return'<pre class="hljs language-'+t(r.toLowerCase())+'"><code>'+hljs.highlight(r,e,!0).value+"</code></pre>";if("auto"===r){var n=hljs.highlightAuto(e);return'<pre class="hljs language-'+t(n.language)+'"><code>'+n.value+"</code></pre>"}}catch(e){}return'<pre class="hljs"><code>'+t(e)+"</code></pre>"}},u=g_domSetHighlightedContent;i=i;switch(document.querySelector('meta[name="mur2language"]').content){case"hu":s.quotes="„”»«";break;case"zh_Hant":s.quotes="「」『』";break;case"es":s.quotes="«»“”"}for(var o=e(s).use(markdownitCriticmarkup).use(markdownItAttrs,{}).use(implicitFigures,{figcaption:!0,tabindex:!0}).use(markdownitS2Tex).use(markdownitFootnote).use(markdownitMultimdTable,{rowspan:!0,multiline:!0}).use(markdownitSub).use(markdownitSup).use(markdownitIns),l=e(s).use(markdownitCriticmarkup).use(markdownItAttrs,{}).use(implicitFigures,{figcaption:!0,tabindex:!0}).use(markdownitS2Tex).use(markdownitMultimdTable,{rowspan:!0,multiline:!0}).use(markdownitSub).use(markdownitSup).use(markdownitFootnote).use(markdownitIns),c=e(s).use(markdownitCriticmarkup).use(markdownItAttrs,{}).use(implicitFigures,{figcaption:!0,tabindex:!0}).use(markdownitS2Tex,{noreplace:!0}).use(markdownitMultimdTable,{rowspan:!0,multiline:!0}).use(markdownitSub).use(markdownitSup).use(markdownitFootnote).use(markdownitIns),d=e(s).use(markdownitCriticmarkup).use(markdownitS2Tex,s._habr).use(markdownitMultimdTableLaTeX,{rowspan:!0,multiline:!0}).use(markdownitSub).use(markdownitSup).use(markdownitFootnote).use(markdownitIns),h=e("zero").enable("table").use(markdownitMultimdTableLaTeX,{rowspan:!0,multiline:!0}),m=e("zero").use(markdownitS2Tex),p=[o,l,c,d,m],g=document.querySelector('meta[name="endnotetext"]').content,k=0;k<p.length;k++)p[k].renderer.rules.footnote_block_open=(()=>'<h1 class="mt-1">'+g+'</h1>\n<section class="footnotes">\n<ol class="footnotes-list">\n');function f(e,r){if(r>=0&&e[r]&&e[r].children)for(var t=e[r].children.length;t--;)if("tex-block"===e[r].children[t].tag)return!0;return!1}function w(e,r,t,n,a){var i="";return r>0&&"paragraph_close"===e[r-1].type&&!f(e,r-2)&&(i="\n"),i+a.renderToken(e,r,t,n,a)}function b(e,r,t,n,a){var i="";return r>0&&"paragraph_close"===e[r-1].type&&!f(e,r-2)&&(i="\n"),i}function _(e,r,t,n,a){return"\n"}o.renderer.rules.paragraph_open=o.renderer.rules.heading_open=function(e,r,t,n,a){var i;return e[r].map&&0===e[r].level&&(i=e[r].map[0],e[r].attrPush(["class","line"]),e[r].attrPush(["data-line",i+""])),f(e,r+1)&&(e[r].attrPush(["align","center"]),e[r].attrPush(["style","text-align: center;"])),a.renderToken(e,r,t,n,a)},l.renderer.rules.paragraph_open=l.renderer.rules.heading_open=function(e,r,t,n,a){return f(e,r+1)&&(e[r].attrPush(["align","center"]),e[r].attrPush(["style","text-align: center;"])),a.renderToken(e,r,t,n,a)},d.renderer.rules.heading_open=w,d.renderer.rules.paragraph_open=b,d.renderer.rules.paragraph_close=_,h.renderer.rules.heading_open=w,h.renderer.rules.paragraph_open=b,h.renderer.rules.paragraph_close=_,m.inline.ruler.before("backticks","backticks2",function(e,r){var t,n,a,i,s,u,o=e.pos;if(96!==e.src.charCodeAt(o))return!1;for(t=o,o++,n=e.posMax;o<n&&96===e.src.charCodeAt(o);)o++;for(a=e.src.slice(t,o),i=s=o;-1!==(i=e.src.indexOf("`",s));){for(s=i+1;s<n&&96===e.src.charCodeAt(s);)s++;if(s-i===a.length)return r||((u=e.push("backticks2_inline","code",0)).markup=a,u.content=e.src.slice(o,i)),e.pos=s,!0}return r||(e.pending+=a),e.pos+=a.length,!0}),m.renderer.rules.backticks2_inline=function(e,r){var t=e[r];return t.markup+t.content+t.markup},m.renderer.rules.text=function(e,r){return e[r].content},h.renderer.rules.text=function(e,r){return e[r].content},o.renderer.rules.math_inline=function(e,r){return i.getHtmlStub(e[r].content)},d.renderer.rules.math_number=function(e,r){return'<img align="right" src="//mur2.co.uk/math/svg/'+e[r].content+'" />'},d.renderer.rules.fence=function(e,r,t,n,a){var i,s=e[r],u=s.info?d.utils.unescapeAll(s.info).trim():"",o="";return u&&(o=u.split(/\s+/g)[0],s.attrPush(["lang",o])),i=t.highlight&&t.highlight(s.content,o)||d.utils.escapeHtml(s.content),"\n<source"+a.renderAttrs(s)+">"+i+"</source>\n"},this.getSource=a;var v=null;this.updateResult=function(e,i){var s=g_view,h=a();if(i||h!==v){switch(v=h,s){case"html":e.reset(),u(t,o.render(h),"none"),e.fixDom();break;case"htmltex":u(n,'<script src="https://mur2.co.uk/math/latex.js"><\/script>\n'+c.render(h),"html");break;case"habr":u(n,function(e){var r=d.render(e);return r=r.replace("<spoiler ","\n<spoiler ")}(h),"html");break;case"md":u(n,m.renderInline(h),"md");break;case"mdp":u(n,h,"md");break;case"src":u(n,l.render(h),"html")}r(h),collapsible_listener()}},this.getDisplayedResult=function(){var e=g_view,r=a();switch(e){case"habr":return d.render(r);case"htmltex":return'<script src="https://mur2.co.uk/math/latex.js"><\/script>\n'+c.render(r);case"md":return m.renderInline(r);case"mdp":return r;default:return l.render(r)}},this.getHtmlImg=function(){var e=a();return l.render(e)},this.getMdBackend=function(){var e=a();return h.render(e)}}