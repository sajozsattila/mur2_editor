function ParserCollection(e,r,t,n,a,s){var i={html:!0,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!0,quotes:"“”‘’",_habr:{protocol:""},_highlight:!0,_strict:!1,highlight:function(e,r){var t=l.utils.escapeHtml;try{if(!i._highlight)throw"highlighting disabled";if(r&&"auto"!==r&&hljs.getLanguage(r))return'<pre class="hljs language-'+t(r.toLowerCase())+'"><code>'+hljs.highlight(r,e,!0).value+"</code></pre>";if("auto"===r){var n=hljs.highlightAuto(e);return'<pre class="hljs language-'+t(n.language)+'"><code>'+n.value+"</code></pre>"}}catch(e){}return'<pre class="hljs"><code>'+t(e)+"</code></pre>"}},u=g_domSetHighlightedContent,o=(s=s,document.querySelector('meta[name="mur2textlanguage"]').content);switch(o.slice(0,2)){case"hu":i.quotes="„”»«";break;case"ro":i.quotes="„”«»";break;case"ca":case"es":i.quotes="«»“”";break;case"de":case"cs":i.quotes="„”‚‘";break;case"it":case"gr":i.quotes="«»“”";break;case"fr":i.quotes="«»‹›";break;case"jp":i.quotes="「」『』"}switch(o){case"zh_Hant":i.quotes="「」『』"}for(var l=e(i).use(markdownitCriticmarkup).use(markdownItAttrs,{}).use(markdownitS2Tex).use(implicitFigures,{figcaption:!0,tabindex:!0}).use(markdownitFootnote).use(markdownitMultimdTable,{rowspan:!0,multiline:!0}).use(markdownitSub).use(markdownitSup).use(markdownitIns),c=e(i).use(markdownitCriticmarkup).use(markdownItAttrs,{}).use(implicitFigures,{figcaption:!0,tabindex:!0}).use(markdownitS2Tex).use(markdownitMultimdTable,{rowspan:!0,multiline:!0}).use(markdownitSub).use(markdownitSup).use(markdownitFootnote).use(markdownitIns),d=e(i).use(markdownitCriticmarkup).use(markdownItAttrs,{}).use(implicitFigures,{figcaption:!0,tabindex:!0}).use(markdownitS2Tex,{noreplace:!0}).use(markdownitMultimdTable,{rowspan:!0,multiline:!0}).use(markdownitSub).use(markdownitSup).use(markdownitFootnote).use(markdownitIns),h=e(i).use(markdownitCriticmarkup).use(markdownItAttrs,{}).use(markdownitS2Tex,i._habr).use(markdownitMultimdTableLaTeX,{rowspan:!0,multiline:!0}).use(markdownitSub).use(markdownitSup).use(markdownitFootnote).use(markdownitIns),m=e("zero").enable("table").use(markdownitMultimdTableLaTeX,{rowspan:!0,multiline:!0}),p=e("zero").use(markdownitS2Tex),g=[l,c,d,h,p],k=document.querySelector('meta[name="endnotetext"]').content,f=0;f<g.length;f++)g[f].renderer.rules.footnote_block_open=(()=>'<h1 class="mt-1">'+k+'</h1>\n<section class="footnotes">\n<ol class="footnotes-list">\n');function w(e,r){if(r>=0&&e[r]&&e[r].children)for(var t=e[r].children.length;t--;)if("tex-block"===e[r].children[t].tag)return!0;return!1}function b(e,r,t,n,a){var s="";return r>0&&"paragraph_close"===e[r-1].type&&!w(e,r-2)&&(s="\n"),s+a.renderToken(e,r,t,n,a)}function _(e,r,t,n,a){var s="";return r>0&&"paragraph_close"===e[r-1].type&&!w(e,r-2)&&(s="\n"),s}function x(e,r,t,n,a){return"\n"}l.renderer.rules.paragraph_open=l.renderer.rules.heading_open=function(e,r,t,n,a){var s;return e[r].map&&0===e[r].level&&(s=e[r].map[0],e[r].attrPush(["class","line"]),e[r].attrPush(["data-line",s+""])),w(e,r+1)&&(e[r].attrPush(["align","center"]),e[r].attrPush(["style","text-align: center;"])),a.renderToken(e,r,t,n,a)},c.renderer.rules.paragraph_open=c.renderer.rules.heading_open=function(e,r,t,n,a){return w(e,r+1)&&(e[r].attrPush(["align","center"]),e[r].attrPush(["style","text-align: center;"])),a.renderToken(e,r,t,n,a)},h.renderer.rules.heading_open=b,h.renderer.rules.paragraph_open=_,h.renderer.rules.paragraph_close=x,m.renderer.rules.heading_open=b,m.renderer.rules.paragraph_open=_,m.renderer.rules.paragraph_close=x,p.inline.ruler.before("backticks","backticks2",function(e,r){var t,n,a,s,i,u,o=e.pos;if(96!==e.src.charCodeAt(o))return!1;for(t=o,o++,n=e.posMax;o<n&&96===e.src.charCodeAt(o);)o++;for(a=e.src.slice(t,o),s=i=o;-1!==(s=e.src.indexOf("`",i));){for(i=s+1;i<n&&96===e.src.charCodeAt(i);)i++;if(i-s===a.length)return r||((u=e.push("backticks2_inline","code",0)).markup=a,u.content=e.src.slice(o,s)),e.pos=i,!0}return r||(e.pending+=a),e.pos+=a.length,!0}),p.renderer.rules.backticks2_inline=function(e,r){var t=e[r];return t.markup+t.content+t.markup},p.renderer.rules.text=function(e,r){return e[r].content},m.renderer.rules.text=function(e,r){return e[r].content},l.renderer.rules.math_inline=function(e,r){return s.getHtmlStub(e[r].content)},h.renderer.rules.math_number=function(e,r){return'<img align="right" src="//mur2.co.uk/math/svg/'+e[r].content+'" />'},h.renderer.rules.fence=function(e,r,t,n,a){var s,i=e[r],u=i.info?h.utils.unescapeAll(i.info).trim():"",o="";return u&&(o=u.split(/\s+/g)[0],i.attrPush(["lang",o])),s=t.highlight&&t.highlight(i.content,o)||h.utils.escapeHtml(i.content),"\n<source"+a.renderAttrs(i)+">"+s+"</source>\n"},this.getSource=a;var v=null;this.updateResult=function(e,s){var i=g_view,o=a();if(s||o!==v){switch(v=o,i){case"html":e.reset(),u(t,l.render(o),"none"),e.fixDom();break;case"htmltex":u(n,'<script src="https://mur2.co.uk/math/latex.js"><\/script>\n'+d.render(o),"html");break;case"habr":u(n,function(e){var r=h.render(e);return r=r.replace("<spoiler ","\n<spoiler ")}(o),"html");break;case"md":u(n,p.renderInline(o),"md");break;case"mdp":u(n,o,"md");break;case"src":u(n,c.render(o),"html")}r(o),collapsible_listener()}},this.getDisplayedResult=function(){var e=g_view,r=a();switch(e){case"habr":return h.render(r);case"htmltex":return'<script src="https://mur2.co.uk/math/latex.js"><\/script>\n'+d.render(r);case"md":return p.renderInline(r);case"mdp":return r;default:return document.getElementById(t).innerHTML}},this.getHtmlImg=function(){var e=a();return c.render(e)},this.getMdBackend=function(){var e=a();return m.render(e)}}