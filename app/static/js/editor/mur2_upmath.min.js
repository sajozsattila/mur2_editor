function ParserCollection(e,r,t,n,a,s){var i={html:!0,xhtmlOut:!1,breaks:!1,langPrefix:"language-",linkify:!1,typographer:!0,quotes:"“”‘’",_habr:{protocol:""},_highlight:!0,_strict:!1,highlight:function(e,r){var t=o.utils.escapeHtml;try{if(!i._highlight)throw"highlighting disabled";if(r&&"auto"!==r&&hljs.getLanguage(r))return'<pre class="hljs language-'+t(r.toLowerCase())+'"><code>'+hljs.highlight(r,e,!0).value+"</code></pre>";if("auto"===r){var n=hljs.highlightAuto(e);return'<pre class="hljs language-'+t(n.language)+'"><code>'+n.value+"</code></pre>"}}catch(e){}return'<pre class="hljs"><code>'+t(e)+"</code></pre>"}},u=g_domSetHighlightedContent;s=s;switch(document.querySelector('meta[name="mur2language"]').content){case"hu":i.quotes="„”»«";break;case"zh_Hant":i.quotes="「」『』";break;case"es":i.quotes="«»“”"}for(var o=e(i).use(markdownitCriticmarkup).use(markdownItAttrs,{}).use(implicitFigures,{figcaption:!0,tabindex:!0}).use(markdownitS2Tex).use(markdownitSub).use(markdownitSup).use(markdownitFootnote).use(markdownitIns),c=e(i).use(markdownitCriticmarkup).use(markdownItAttrs,{}).use(implicitFigures,{figcaption:!0,tabindex:!0}).use(markdownitS2Tex).use(markdownitSub).use(markdownitSup).use(markdownitFootnote).use(markdownitIns),l=e(i).use(markdownitCriticmarkup).use(markdownItAttrs,{}).use(implicitFigures,{figcaption:!0,tabindex:!0}).use(markdownitS2Tex,{noreplace:!0}).use(markdownitSub).use(markdownitSup).use(markdownitFootnote).use(markdownitIns),d=e(i).use(markdownitCriticmarkup).use(markdownitS2Tex,i._habr).use(markdownitSub).use(markdownitSup).use(markdownitFootnote).use(markdownitIns),h=e("zero").use(markdownitS2Tex),m=[o,c,l,d,h],p=document.querySelector('meta[name="endnotetext"]').content,g=0;g<m.length;g++)m[g].renderer.rules.footnote_block_open=(()=>'<h1 class="mt-1">'+p+'</h1>\n<section class="footnotes">\n<ol class="footnotes-list">\n');function k(e,r){if(r>=0&&e[r]&&e[r].children)for(var t=e[r].children.length;t--;)if("tex-block"===e[r].children[t].tag)return!0;return!1}o.renderer.rules.paragraph_open=o.renderer.rules.heading_open=function(e,r,t,n,a){var s;return e[r].map&&0===e[r].level&&(s=e[r].map[0],e[r].attrPush(["class","line"]),e[r].attrPush(["data-line",s+""])),k(e,r+1)&&(e[r].attrPush(["align","center"]),e[r].attrPush(["style","text-align: center;"])),a.renderToken(e,r,t,n,a)},c.renderer.rules.paragraph_open=c.renderer.rules.heading_open=function(e,r,t,n,a){return k(e,r+1)&&(e[r].attrPush(["align","center"]),e[r].attrPush(["style","text-align: center;"])),a.renderToken(e,r,t,n,a)},d.renderer.rules.heading_open=function(e,r,t,n,a){var s="";return r>0&&"paragraph_close"===e[r-1].type&&!k(e,r-2)&&(s="\n"),s+a.renderToken(e,r,t,n,a)},d.renderer.rules.paragraph_open=function(e,r,t,n,a){var s="";return r>0&&"paragraph_close"===e[r-1].type&&!k(e,r-2)&&(s="\n"),s},d.renderer.rules.paragraph_close=function(e,r,t,n,a){return"\n"},h.inline.ruler.before("backticks","backticks2",function(e,r){var t,n,a,s,i,u,o=e.pos;if(96!==e.src.charCodeAt(o))return!1;for(t=o,o++,n=e.posMax;o<n&&96===e.src.charCodeAt(o);)o++;for(a=e.src.slice(t,o),s=i=o;-1!==(s=e.src.indexOf("`",i));){for(i=s+1;i<n&&96===e.src.charCodeAt(i);)i++;if(i-s===a.length)return r||((u=e.push("backticks2_inline","code",0)).markup=a,u.content=e.src.slice(o,s)),e.pos=i,!0}return r||(e.pending+=a),e.pos+=a.length,!0}),h.renderer.rules.backticks2_inline=function(e,r){var t=e[r];return t.markup+t.content+t.markup},h.renderer.rules.text=function(e,r){return e[r].content},o.renderer.rules.math_inline=function(e,r){return s.getHtmlStub(e[r].content)},d.renderer.rules.math_number=function(e,r){return'<img align="right" src="//mur2.co.uk:8005/svg/'+e[r].content+'" />'},d.renderer.rules.fence=function(e,r,t,n,a){var s,i=e[r],u=i.info?d.utils.unescapeAll(i.info).trim():"",o="";return u&&(o=u.split(/\s+/g)[0],i.attrPush(["lang",o])),s=t.highlight&&t.highlight(i.content,o)||d.utils.escapeHtml(i.content),"\n<source"+a.renderAttrs(i)+">"+s+"</source>\n"},this.getSource=a;var f=null;this.updateResult=function(e,s){var i=g_view,m=a();if(s||m!==f){switch(f=m,i){case"html":e.reset(),u(t,o.render(m),"none"),e.fixDom();break;case"htmltex":u(n,'<script src="https://mur2.co.uk:8005/latex.js"><\/script>\n'+l.render(m),"html");break;case"habr":u(n,function(e){var r=d.render(e);return r=r.replace("<spoiler ","\n<spoiler ")}(m),"html");break;case"md":u(n,h.renderInline(m),"md");break;case"mdp":u(n,m,"md");break;case"src":u(n,c.render(m),"html")}r(m),collapsible_listener()}},this.getDisplayedResult=function(){var e=g_view,r=a();switch(e){case"habr":return d.render(r);case"htmltex":return'<script src="https://mur2.co.uk:8005/latex.js"><\/script>\n'+l.render(r);case"md":return h.renderInline(r);case"mdp":return r;default:return c.render(r)}},this.getHtmlImg=function(){var e=a();return c.render(e)}}